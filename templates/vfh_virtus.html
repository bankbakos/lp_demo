<script type="text/javascript"
    src="https://vodafone.sharepoint.com/sites/KnowledgeManagementSystem/SiteAssets/js/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="/_layouts/15/MicrosoftAjax.js"></script>
 <style>
       .chips-wrapper .chips-row {
flex-wrap: wrap !important;
height: auto !important
}
.chips-wrapper {
margin-left: 25px !important;
padding: 0 !important
}
.chips-row {
margin: 0 !important;
justify-content: center;
}
.chips-item {
background-color: white !important;
border: none !important;
margin: 5px 5px 0 0 !important
}
.chips-item:hover {
background-color: rgb(102,102,102) !important;
color: white !important
}
.lpc_message-area__timestamp_auto {
    display: none;
}
.lp_agent_is_typing {
    display: none !important;
}

    </style>
<head>
    <script>
    function waitForElm(selector) {
        return new Promise(resolve => {
            if (document.querySelector(selector)) {
                return resolve(document.querySelector(selector));
            }
    
            const observer = new MutationObserver(mutations => {
                if (document.querySelector(selector)) {
                    resolve(document.querySelector(selector));
                    observer.disconnect();
                }
            });
    
            observer.observe(document.body, {
                childList: true,
                subtree: true
            });
        });
    }
    	
	    addEventListener('DOMContentLoaded', (event) => waitForElm('#LP_ChatViewController_1 > div.lp_bottom_area.lp_attachment_icon.lp_emoji_supported.lp_menu_top > div.lp_input_area.lpc_composer__text-area-wrapper.lpc_desktop > textarea').then(res => res.placeholder = 'asdasd'););
    </script>
    <!-- BEGIN LivePerson Monitor. -->
    <script type="text/javascript">window.lpTag = window.lpTag || {}, 'undefined' == typeof window.lpTag._tagCount ? (window.lpTag = { wl: lpTag.wl || null, scp: lpTag.scp || null, site: '46597900' || '', section: lpTag.section || '', tagletSection: lpTag.tagletSection || null, autoStart: lpTag.autoStart !== !1, ovr: lpTag.ovr || {}, _v: '1.10.0', _tagCount: 1, protocol: 'https:', events: { bind: function (t, e, i) { lpTag.defer(function () { lpTag.events.bind(t, e, i) }, 0) }, trigger: function (t, e, i) { lpTag.defer(function () { lpTag.events.trigger(t, e, i) }, 1) } }, defer: function (t, e) { 0 === e ? (this._defB = this._defB || [], this._defB.push(t)) : 1 === e ? (this._defT = this._defT || [], this._defT.push(t)) : (this._defL = this._defL || [], this._defL.push(t)) }, load: function (t, e, i) { var n = this; setTimeout(function () { n._load(t, e, i) }, 0) }, _load: function (t, e, i) { var n = t; t || (n = this.protocol + '//' + (this.ovr && this.ovr.domain ? this.ovr.domain : 'lptag.liveperson.net') + '/tag/tag.js?site=' + this.site); var o = document.createElement('script'); o.setAttribute('charset', e ? e : 'UTF-8'), i && o.setAttribute('id', i), o.setAttribute('src', n), document.getElementsByTagName('head').item(0).appendChild(o) }, init: function () { this._timing = this._timing || {}, this._timing.start = (new Date).getTime(); var t = this; window.attachEvent ? window.attachEvent('onload', function () { t._domReady('domReady') }) : (window.addEventListener('DOMContentLoaded', function () { t._domReady('contReady') }, !1), window.addEventListener('load', function () { t._domReady('domReady') }, !1)), 'undefined' === typeof window._lptStop && this.load() }, start: function () { this.autoStart = !0 }, _domReady: function (t) { this.isDom || (this.isDom = !0, this.events.trigger('LPT', 'DOM_READY', { t: t })), this._timing[t] = (new Date).getTime() }, vars: lpTag.vars || [], dbs: lpTag.dbs || [], ctn: lpTag.ctn || [], sdes: lpTag.sdes || [], hooks: lpTag.hooks || [], identities: lpTag.identities || [], ev: lpTag.ev || [] }, lpTag.init()) : window.lpTag._tagCount += 1;

    </script>
    <!-- Push viewProduct -->
    <script>

  async function viewProduct() {
    lpTag.sdes = lpTag.sdes || [];
    var user_info;
    var email_from_ajax;
    var name_from_ajax;
    /*await $.ajax({
        url: "https://vodafone.sharepoint.com/sites/KnowledgeManagementSystem/_api/SP.UserProfiles.PeopleManager/GetMyProperties?$select=Email, DisplayName, UserProfileProperties",
        method: "GET",
        headers: {
            "accept": "application/json;odata=verbose"
        },
        success: function(data) {
            var result = data.d;
            email_from_ajax = result.Email;
            name_from_ajax = result.DisplayName;
            let mapped_result = {};
            console.log(result.UserProfileProperties.results);
            result.UserProfileProperties.results.filter(result => (result.Key === 'FirstName' || result.Key === 'LastName' || result.Key === 'CellPhone' || result.Key === 'Title' || result.Key === 'Department')).forEach(result => {
                __WRAPPED_set(mapped_result, result.Key, '=', result.Value);
            });
            user_info = {
                "Email": email_from_ajax,
                "Name": name_from_ajax,
                "FirstName": mapped_result['FirstName'],
                "LastName": mapped_result['LastName'],
                "CellPhone": mapped_result['CellPhone'],
                "Title": mapped_result['Title'],
                "Department": mapped_result['Department']
            };
        },
        error: function(err) {
            alert(JSON.stringify(err));
        }
    }); */
            lpTag.sdes.push(
                {
                    "type": "personal",  //MANDATORY
                    "personal": {
                        "firstname": "Test",  // FIRST NAME
                        "lastname": "User",  // SURNAME
                        "contacts": [{
                            "email": "a@b.com",  // EMAIL
                            "phone": "+361234567",  // PHONE NUMBER
                            "preferred": "EMAIL"  // EMAIL, PHONE
                        }]
                    }
                }
            );
            lpTag.sdes.push(
                {
                    "type": "ctmrinfo",  //MANDATORY
                    "info": {
                        "role": "devtest",  //CONSUMER ROLE TITLE
                        "storeNumber": "devtest"
                    }
                }
            );
        }
        viewProduct()
    </script>
	</head>
    <body style="background-image: url('static/img/virtus.PNG');
       min-height: 80%;
   background-size: cover;
   background-repeat: no-repeat;
   background-position: center center;">
	</body>

</html>
  
